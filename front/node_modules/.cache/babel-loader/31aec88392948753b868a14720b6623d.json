{"ast":null,"code":"import _slicedToArray from\"/home/segundo/Desktop/TMDB_NEW/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{motion}from\"framer-motion\";import{baseUrl}from\"../utils/baseUrl.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var navigate=useNavigate();var handleSubmit=function handleSubmit(e){e.preventDefault();var validEMail=/([a-zA-Z0-9.-]+@[a-zA-Z0-9.-]+.[a-zA-Z0-9_-]+)/gi.test(email);if(!validEMail){setError(\"Email invalido!\");return;}var passwordValid=/^^(?=.?[A-Z])(?=.?[a-z]).{8,}$/.test(password);if(!passwordValid){setError(\"Contraseña invalida! debe tener minimo 8 caracteres y 1 mayuscula.\");return;}axios.post(\"\".concat(baseUrl,\"/user/register\"),{name:name,email:email,password:password}).then(function(){navigate(\"/user/login\");}).catch(function(err){return console.error(err);});};var handleChange=function handleChange(e){if(e.target.name===\"name\")setName(e.target.value);if(e.target.name===\"email\")setEmail(e.target.value);if(e.target.name===\"password\")setPassword(e.target.value);};return/*#__PURE__*/_jsx(motion.div,{className:\"containerLoginForm\",initial:{opacity:0},animate:{opacity:1},exit:{opacity:1,transition:{duration:0.4}},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"name\",type:\"text\",name:\"name\",placeholder:\"name..\",required:true,onChange:handleChange,value:name.value})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mail\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"mail\",type:\"text\",name:\"email\",placeholder:\"email..\",required:true,onChange:handleChange,value:email.value})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",name:\"password\",placeholder:\"password..\",required:true,onChange:handleChange,value:password.value})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{padding:6,width:\"fit-content\",borderBottom:\"2px solid red\"},children:error}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"registerbtn\",type:\"submit\",children:\"Register\"})})]})});};export default Register;","map":{"version":3,"sources":["/home/segundo/Desktop/TMDB_NEW/front/src/layouts/Register.jsx"],"names":["axios","React","useState","useNavigate","motion","baseUrl","Register","name","setName","email","setEmail","password","setPassword","error","setError","navigate","handleSubmit","e","preventDefault","validEMail","test","passwordValid","post","then","catch","err","console","handleChange","target","value","opacity","transition","duration","padding","width","borderBottom"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport React, { useState } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport { motion } from \"framer-motion\"\nimport { baseUrl } from \"../utils/baseUrl.js\"\n\nconst Register = () => {\n  const [name, setName] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [error, setError] = useState(\"\")\n  const navigate = useNavigate()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    let validEMail = /([a-zA-Z0-9.-]+@[a-zA-Z0-9.-]+.[a-zA-Z0-9_-]+)/gi.test(\n      email\n    )\n    if (!validEMail) {\n      setError(\"Email invalido!\")\n      return\n    }\n    let passwordValid = /^^(?=.?[A-Z])(?=.?[a-z]).{8,}$/.test(password)\n    if (!passwordValid) {\n      setError(\n        \"Contraseña invalida! debe tener minimo 8 caracteres y 1 mayuscula.\"\n      )\n      return\n    }\n\n    axios\n      .post(`${baseUrl}/user/register`, { name, email, password })\n      .then(() => {\n        navigate(\"/user/login\")\n      })\n      .catch((err) => console.error(err))\n  }\n\n  const handleChange = (e) => {\n    if (e.target.name === \"name\") setName(e.target.value)\n    if (e.target.name === \"email\") setEmail(e.target.value)\n    if (e.target.name === \"password\") setPassword(e.target.value)\n  }\n\n  return (\n    <motion.div\n      className=\"containerLoginForm\"\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 1, transition: { duration: 0.4 } }}\n    >\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label htmlFor=\"name\">Name</label>\n          <input\n            id=\"name\"\n            type={\"text\"}\n            name={\"name\"}\n            placeholder={\"name..\"}\n            required\n            onChange={handleChange}\n            value={name.value}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"mail\">Email</label>\n          <input\n            id=\"mail\"\n            type={\"text\"}\n            name={\"email\"}\n            placeholder={\"email..\"}\n            required\n            onChange={handleChange}\n            value={email.value}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"password\">Password</label>\n          <input\n            id=\"password\"\n            type={\"password\"}\n            name={\"password\"}\n            placeholder={\"password..\"}\n            required\n            onChange={handleChange}\n            value={password.value}\n          />\n        </div>\n        {error && (\n          <p\n            style={{\n              padding: 6,\n              width: \"fit-content\",\n              borderBottom: \"2px solid red\",\n            }}\n          >\n            {error}\n          </p>\n        )}\n        <div>\n          <button className=\"registerbtn\" type=\"submit\">\n            Register\n          </button>\n        </div>\n      </form>\n    </motion.div>\n  )\n}\n\nexport default Register\n"]},"metadata":{},"sourceType":"module"}